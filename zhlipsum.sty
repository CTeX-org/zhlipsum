%%
%% This is file `zhlipsum.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% zhlipsum.dtx  (with options: `sty')
%% 
%%     Copyright (C) 2017 by Xiangdong Zeng <pssysrq@163.com>
%% 
%%     This work may be distributed and/or modified under the
%%     conditions of the LaTeX Project Public License, either
%%     version 1.3c of this license or (at your option) any later
%%     version. The latest version of this license is in:
%% 
%%       http://www.latex-project.org/lppl.txt
%% 
%%     and version 1.3 or later is part of all distributions of
%%     LaTeX version 2005/12/01 or later.
%% 
%%     This work has the LPPL maintenance status `maintained'.
%% 
%%     The Current Maintainer of this work is Xiangdong Zeng.
%% 
%%     This work consists of the files zhlipsum.dtx
%%                                     zhlipsum.ins
%%               and the derived files zhlipsum.sty
%%                                     zhlipsum-zh-cn.def
%% 

\NeedsTeXFormat{LaTeX2e}
\RequirePackage{expl3,xparse}
\ProvidesExplPackage {zhlipsum} {2017/04/07} {0.1}
  {Chinese `Lorem Ipsum' text}
\int_new:N \l__zhlipsum_tmpa_int
\str_new:N \l__zhlipsum_tmpa_str
\str_new:N \l__zhlipsum_lang_code_st
\str_const:Nn \c__zhlipsum_text_cs_prefix { c__zhlipsum_text_ }
\str_const:Nn \c__zhlipsum_text_cs_suffix { _tl }
\cs_new:Npn \zhlipsum_print_text:N #1
  {
    \str_set:Nx \l__zhlipsum_tmpa_str
      { \int_to_roman:n { #1 } }
    \str_set:Nn \l__zhlipsum_lang_code_st
      { zh_cn_ }
    \str_put_left:Nx  \l__zhlipsum_tmpa_str
      \l__zhlipsum_lang_code_st
    \str_put_left:Nx  \l__zhlipsum_tmpa_str
      \c__zhlipsum_text_cs_prefix
    \str_put_right:Nx \l__zhlipsum_tmpa_str
      \c__zhlipsum_text_cs_suffix
    \use:c { \str_use:N \l__zhlipsum_tmpa_str }
  }
\int_const:Nn \c__zhlipsum_max_par_int { 50 }
\int_const:Nn \c__zhlipsum_default_par_int { 3 }
\NewDocumentCommand \zhlipsum { s O{ \c__zhlipsum_default_par_int } }
  {
    \par
    \int_set:Nn \l__zhlipsum_tmpa_int { \c_one }
    \int_while_do:nn
      { \l__zhlipsum_tmpa_int <= #2 }
      {
        % Print paragrapf number. For debug.
        %\int_use:N \l__zhlipsum_tmpa_int
        \zhlipsum_print_text:N \l__zhlipsum_tmpa_int
        \IfBooleanTF { #1 }
          {
            \int_compare:nT { \l__zhlipsum_tmpa_int == #2 } { \par }
          }
          { \par }
        \int_incr:N \l__zhlipsum_tmpa_int
      }
  }
\file_input:n { zhlipsum-zh-cn.def }
\endinput
%%
%% End of file `zhlipsum.sty'.
